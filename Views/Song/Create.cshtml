@model CreateSongModel
@{
    Layout = "_LayoutAdmin";
}

<div class="Admin-AddNewModel">
    <a asp-controller="Admin" asp-action="ListSongUsing">
        <i class="fa-solid fa-arrow-left-long"></i>
        Back
    </a>

    <h1>New song</h1>

    <form id="create-song-form" asp-controller="Song" asp-action="Create" method="post">
        <div asp-validation-summary="ModelOnly" class="login-validation-summary-errors"></div>

        <div class="Admin-AddNewModel_text_field">
            <label>Directory path</label>
            <span asp-validation-for="Audio" class="text-danger"></span>
            <input type="text" id="Directory-path" readonly/>
            <input asp-for="Audio" class="hide"/>
            <i class="fa-regular fa-folder-closed" id="folder"></i>
        </div>

        <div class="Admin-AddNewModel_text_field">
            <label asp-for="Name">Name</label>
            <span asp-validation-for="Name" class="text-danger"></span>
            <input asp-for="Name" />
        </div>

        <div class="Admin-AddNewModel_text_field">
            <label asp-for="Artist">Artist</label>
            <span asp-validation-for="Artist" class="text-danger"></span>
            <input asp-for="Artist" />
        </div>

        <span asp-validation-for="GenreIds" class="text-danger"></span>
        <div class="Admin-AddNewModel-Category">
            <label>Genre</label>
            
            @*Hiển thị các Genre đã chọn lên ô chứa Genre*@
            <div class="Category-Show">
                @foreach(var item in ViewBag.Genres)
                {
                    <div class="Category-Show-item hide" id="checkbox-@item.Value">
                        <i class="fa-solid fa-xmark" icon-Category-id="checkbox-@item.Value"></i>
                        @item.Text
                    </div>
                }
                @*<div class="Category-Show-item hide" id="checkbox-Pop">
                    <i class="fa-solid fa-xmark" icon-Category-id="checkbox-Pop"></i>
                    Pop
                </div>*@
            </div>

            @*Hiển thị các checkbox Genre để chọn*@
            <div class="Category-List">
                <i class="fa-solid fa-caret-down" id="List-Genre"></i>
                <div class="hide" id="Genre-Item">
                    @foreach (var item in 
                        (ViewBag.Genres as IEnumerable<SelectListItem>) ?? Enumerable.Empty<SelectListItem>())
                    {
                        int genreId = Convert.ToInt32(item.Value);
                        <div class="Category-item">
                            <input type="checkbox" checkbox-Category-id="checkbox-@genreId"
                                   name="GenreIds" value="@genreId" checked="@Model?.GenreIds?.Contains(genreId)" />
                            @item.Text
                        </div>
                    }
                    @*<div class="Category-item" >
                        <input type="checkbox" checkbox-Category-id="checkbox-Pop" />
                        Pop
                    </div>*@
                </div>
            </div> <br />
           
        </div>


        <div class="Admin-AddNewModel-Category">
            <label>Emotion</label>

            @*Hiển thị các Emotion đã chọn lên ô chứa Emotion*@
            <div class="Category-Show">
                <div class="Category-Show-item hide" id="checkbox-Active">
                    <i class="fa-solid fa-xmark" icon-Category-id="checkbox-Active"></i>
                    Active
                </div>

                <div class="Category-Show-item hide" id="checkbox-Fun">
                    <i class="fa-solid fa-xmark" icon-Category-id="checkbox-Fun"></i>
                    Fun
                </div>

                <div class="Category-Show-item hide" id="checkbox-Happy">
                    <i class="fa-solid fa-xmark" icon-Category-id="checkbox-Happy"></i>
                    Happy
                </div>

                <div class="Category-Show-item hide" id="checkbox-Optimistic">
                    <i class="fa-solid fa-xmark" icon-Category-id="checkbox-Optimistic"></i>
                    Optimistic
                </div>

                <div class="Category-Show-item hide" id="checkbox-Torment">
                    <i class="fa-solid fa-xmark" icon-Category-id="checkbox-Torment"></i>
                    Torment
                </div>
            </div>

            @*Hiển thị các checkbox Emotion để chọn*@
            <div class="Category-List">
                <i class="fa-solid fa-caret-down" id="List-Emotion"></i>
                <div class="hide" id="Emotion-Item">
                    <div class="Category-item">
                        <input type="checkbox" checkbox-Category-id="checkbox-Active" />
                        Active
                    </div>

                    <div class="Category-item">
                        <input type="checkbox" checkbox-Category-id="checkbox-Fun" />
                        Fun
                    </div>

                    <div class="Category-item">
                        <input type="checkbox" checkbox-Category-id="checkbox-Happy" />
                        Happy
                    </div>

                    <div class="Category-item">
                        <input type="checkbox" checkbox-Category-id="checkbox-Optimistic" />
                        Optimistic
                    </div>

                    <div class="Category-item">
                        <input type="checkbox" checkbox-Category-id="checkbox-Torment" />
                        Torment
                    </div>
                </div>
            </div>

        </div>
    </form>

    <div class="btn-AddNewModel">
        <button form="create-song-form">Add new song</button>
    </div>
</div>
