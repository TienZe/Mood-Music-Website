@using Microsoft.AspNetCore.Identity
@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
    var user = await UserManager.GetUserAsync(User);
    bool isAdmin = await UserManager.IsInRoleAsync(user, Role.Admin);

    <li class="Header_navbar-item">
        @if (isAdmin)
        {
            <a class="Header_navbar-link" asp-controller="Admin" asp-action="ListMembers">
                Hello @ViewContext.HttpContext.User.Identity?.Name
            </a>
        }
        else
        {
            <a class="Header_navbar-link" asp-controller="Account" asp-action="ManageProfile">
                Hello @ViewContext.HttpContext.User.Identity?.Name
            </a>
        }
        <i class="fa-solid fa-bars"></i>
        <ul class="bars-down hide">
            <li>
                <a asp-controller="Account" asp-action="ManageProfile">
                    Profile
@*                    <i class="fa-regular fa-user"></i>*@
                </a>
                
            </li>
            <li>
                <a asp-controller="" asp-action="">
                    Order
@*                    <i class="fa-regular fa-phone"></i>*@
                </a>
                
            </li>
            <li>
                <a asp-controller="Account" asp-action="Logout">
                    Log out
@*                    <i class="fa-regular fa-arrow-right-from-bracket"></i>*@
                </a>
                
            </li>
        </ul>
    </li>
}
else
{
    <li class="Header_navbar-item-Login">
        <a class="Header_navbar-Login" asp-controller="Account" asp-action="Login">Log in / Sign up</a>
    </li>
}

